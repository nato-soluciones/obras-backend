<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Budget extends Model
{
    use HasFactory;

    /**
     * The attributes that are mass assignable.
     *
     * @var array<int, string>
     */
    protected $fillable = [
        'date',
        'client_id',
        'obra_name',
        'estimated_time',
        'covered_area',
        'semi_covered_area',
        'preliminary_tasks_final',
        'palisade_assembly_lm',
        'palisade_assembly_lm_unit',
        'palisade_assembly_lm_budget',
        'assembly_workshop',
        'assembly_workshop_unit',
        'assembly_workshop_budget',
        'work_poster',
        'work_poster_unit',
        'work_poster_budget',
        'electrical_panel',
        'electrical_panel_unit',
        'electrical_panel_budget',
        'work_pillar',
        'work_pillar_unit',
        'work_pillar_budget',
        'demolitions',
        'demolitions_unit',
        'demolitions_budget',
        'earthworks_final',
        'adaptation_land',
        'adaptation_land_unit',
        'adaptation_land_budget',
        'removal_topsoil',
        'removal_topsoil_unit',
        'removal_topsoil_budget',
        'leveling',
        'leveling_unit',
        'leveling_budget',
        'excavation',
        'excavation_unit',
        'excavation_budget',
        'land_contribution',
        'land_contribution_unit',
        'land_contribution_budget',
        'h_structures_final',
        'structure_rethinking',
        'structure_rethinking_unit',
        'structure_rethinking_budget',
        'isolated_bases',
        'isolated_bases_unit',
        'isolated_bases_budget',
        'piles',
        'piles_unit',
        'piles_budget',
        'platea',
        'platea_unit',
        'platea_budget',
        'retaining_wall',
        'retaining_wall_unit',
        'retaining_wall_budget',
        'submural_partition',
        'submural_partition_unit',
        'submural_partition_budget',
        'foundation_beams',
        'foundation_beams_unit',
        'foundation_beams_budget',
        'isolated_columns',
        'isolated_columns_unit',
        'isolated_columns_budget',
        'insulated_beams',
        'insulated_beams_unit',
        'insulated_beams_budget',
        'seen_partitions',
        'seen_partitions_unit',
        'seen_partitions_budget',
        'unseen_partitions',
        'unseen_partitions_unit',
        'unseen_partitions_budget',
        'exposed_slab',
        'exposed_slab_unit',
        'exposed_slab_budget',
        'common_slab_unseen',
        'common_slab_unseen_unit',
        'common_slab_unseen_budget',
        'flight_stairs_seen',
        'flight_stairs_seen_unit',
        'flight_stairs_seen_budget',
        'flight_stairs_unseen',
        'flight_stairs_unseen_unit',
        'flight_stairs_unseen_budget',
        'cleaning_concrete',
        'cleaning_concrete_unit',
        'cleaning_concrete_budget',
        'concrete_makeup',
        'concrete_makeup_unit',
        'concrete_makeup_budget',
        'masonry_final',
        'masonry_layout',
        'masonry_layout_unit',
        'masonry_layout_budget',
        'leveling_masonry',
        'leveling_masonry_unit',
        'leveling_masonry_budget',
        'double_perimeter_masonry',
        'double_perimeter_masonry_unit',
        'double_perimeter_masonry_budget',
        'lh8_masonry',
        'lh8_masonry_unit',
        'lh8_masonry_budget',
        'lh12_masonry',
        'lh12_masonry_unit',
        'lh12_masonry_budget',
        'lh18_masonry',
        'lh18_masonry_unit',
        'lh18_masonry_budget',
        'common_brick_masonry',
        'common_brick_masonry_unit',
        'common_brick_masonry_budget',
        'interior_placement',
        'interior_placement_unit',
        'interior_placement_budget',
        'exterior_placement',
        'exterior_placement_unit',
        'exterior_placement_budget',
        'grill_execution',
        'grill_execution_unit',
        'grill_execution_budget',
        'thick_plaster',
        'thick_plaster_unit',
        'thick_plaster_budget',
        'exterior_thick_plaster',
        'exterior_thick_plaster_unit',
        'exterior_thick_plaster_budget',
        'plaster_exterior',
        'plaster_exterior_unit',
        'plaster_exterior_budget',
        'h10_interior',
        'h10_interior_unit',
        'h10_interior_budget',
        'h10_exterior_terrain',
        'h10_exterior_terrain_unit',
        'h10_exterior_terrain_budget',
        'h10_exterior_slab',
        'h10_exterior_slab_unit',
        'h10_exterior_slab_budget',
        'h4_interior',
        'h4_interior_unit',
        'h4_interior_budget',
        'h4_exterior_terrain',
        'h4_exterior_terrain_unit',
        'h4_exterior_terrain_budget',
        'h4_exterior_slab',
        'h4_exterior_slab_unit',
        'h4_exterior_slab_budget',
        'h4_guild_help',
        'h4_guild_help_unit',
        'h4_guild_help_budget',
        'h4_periodic_cleaning',
        'h4_periodic_cleaning_unit',
        'h4_periodic_cleaning_budget',
        'h4_final_cleaning',
        'h4_final_cleaning_unit',
        'h4_final_cleaning_budget',
        'sanitary_installation_final',
        'pre_air_conditioning_final',
        'pre_air_conditioning_cleaning',
        'pre_air_conditioning_cleaning_unit',
        'pre_air_conditioning_cleaning_budget',
        'underfloor_heating_final',
        'underfloor_heating',
        'underfloor_heating_unit',
        'underfloor_heating_budget',
        'radiator_heating',
        'radiator_heating_unit',
        'radiator_heating_budget',
        'electrical_installation_final',
        'durlock_total',
        'alpress_plaster',
        'alpress_plaster_unit',
        'alpress_plaster_budget',
        'corner_pieces',
        'corner_pieces_unit',
        'corner_pieces_budget',
        'masonry_partition',
        'masonry_partition_unit',
        'masonry_partition_budget',
        'reinforced_ceiling',
        'reinforced_ceiling_unit',
        'reinforced_ceiling_budget',
        'wooden_ceiling',
        'wooden_ceiling_unit',
        'wooden_ceiling_budget',
        'reinforced_plaster_ceiling',
        'reinforced_plaster_ceiling_unit',
        'reinforced_plaster_ceiling_budget',
        'applied_plaster_ceiling',
        'applied_plaster_ceiling_unit',
        'applied_plaster_ceiling_budget',
        'curtain_rods',
        'curtain_rods_unit',
        'curtain_rods_budget',
        'drawers',
        'drawers_unit',
        'drawers_budget',
        'bunas',
        'bunas_unit',
        'bunas_budget',
        'floor_covering_total',
        'interior_floor_placement',
        'interior_floor_placement_unit',
        'interior_floor_placement_budget',
        'exterior_floor_placement',
        'exterior_floor_placement_unit',
        'exterior_floor_placement_budget',
        'placing_coating_in_bathrooms',
        'placing_coating_in_bathrooms_unit',
        'placing_coating_in_bathrooms_budget',
        'placing_coating_in_kitchens',
        'placing_coating_in_kitchens_unit',
        'placing_coating_in_kitchens_budget',
        'placement_on_grill',
        'placement_on_grill_unit',
        'placement_on_grill_budget',
        'placement_on_treadmill',
        'placement_on_treadmill_unit',
        'placement_on_treadmill_budget',
        'waterproofing_final',
        'footbath_waterproofing',
        'footbath_waterproofing_unit',
        'footbath_waterproofing_budget',
        'waterproofing_terraces',
        'waterproofing_terraces_unit',
        'waterproofing_terraces_budget',
        'waterproofing_flower_beds',
        'waterproofing_flower_beds_unit',
        'waterproofing_flower_beds_budget',
        'painting_total',
        'putty',
        'putty_unit',
        'putty_budget',
        'concrete_painting',
        'concrete_painting_unit',
        'concrete_painting_budget',
        'exterior_paint',
        'exterior_paint_unit',
        'exterior_paint_budget',
        'exterior_plaster_total',
        'ironing_application_exterior',
        'ironing_application_exterior_unit',
        'ironing_application_exterior_budget',
        'exposed_brick_wall',
        'exposed_brick_wall_unit',
        'exposed_brick_wall_budget',
        'stone_cladding',
        'stone_cladding_unit',
        'stone_cladding_budget',
        'siding_coating',
        'siding_coating_unit',
        'siding_coating_budget',
        'concrete_trotter_total',
        'movement_vehicular_access',
        'movement_vehicular_access_unit',
        'movement_vehicular_access_budget',
        'placement_treadmill',
        'placement_treadmill_unit',
        'placement_treadmill_budget',
        'concrete_trotter_extra',
        'administrative_total',
        'safety_hygiene',
        'safety_hygiene_unit',
        'safety_hygiene_budget',
        'personal_insurance_exterior',
        'personal_insurance_exterior_unit',
        'personal_insurance_exterior_budget',
        'liability_insurance',
        'liability_insurance_unit',
        'liability_insurance_budget',
        'third_party_insurance',
        'third_party_insurance_unit',
        'third_party_insurance_budget',
        'permanent_foreman_onsite',
        'permanent_foreman_onsite_unit',
        'permanent_foreman_onsite_budget',
        'chemical_baths',
        'chemical_baths_unit',
        'chemical_baths_budget',
        'containers',
        'containers_unit',
        'containers_budget',
        'guilds_administrative',
        'guilds',
        'final_budget',
    ];

    /**
     * The attributes that should be cast.
     *
     * @var array<string, string>
     */
    protected $casts = [
        'concrete_trotter_extra' => 'json',
    ];

    /**
     * The attributes that should have default values.
     *
     * @var array<string, mixed>
     */
    protected $attributes = [
        'concrete_trotter_extra' => '[]',
    ];

    protected static function boot()
    {
        parent::boot();

        static::creating(function ($budget) {
            do {
                $randomNumber = mt_rand(100000000, 999999999);
            } while (self::where('code', $randomNumber)->exists());

            $budget->code = $randomNumber;
        });
    }
}
